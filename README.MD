# websocketèŠå¤©å®¤

#### ğŸš€ åŸºäºWebSocketåè®®çš„å¤šäººèŠå¤©å®¤

PSï¼šç›®å‰æ­£åœ¨å¼€å‘é˜¶æ®µï¼Œé¢„è®¡å®ç°åŠŸèƒ½ï¼š
1. å‘é€æ–‡æœ¬ï¼ˆå®Œæˆï¼‰ã€‚
2. å‘é€å›¾ç‰‡ï¼ˆå®Œæˆï¼‰ã€‚
3. å‘é€è¯­éŸ³ï¼ˆå®Œæˆï¼‰ã€‚
4. å¤œé—´æ¨¡å¼ï¼ˆå®Œæˆï¼‰ã€‚
5. å…¥ç¾¤æç¤ºï¼ˆå®Œæˆï¼‰ã€‚
6. æ¶ˆæ¯æç¤ºï¼ˆå®Œæˆï¼‰ã€‚
7. æŸ¥çœ‹æ‰€æœ‰ç¾¤æˆå‘˜ï¼ˆå®Œæˆï¼‰ã€‚

#### ğŸš¦ å¯åŠ¨æœåŠ¡

```
$ git clone https://github.com/18023785187/ws.git
```

å¯åŠ¨æµè§ˆå™¨æœåŠ¡
```
$ cd ws_client
$ npm install
$ npm run start
```

å¯åŠ¨æœåŠ¡å™¨æœåŠ¡
```
$ cd ws_service
$ npm install
$ npm run start
```

#### ğŸ› ï¸ è¿œç¨‹èŠå¤©ngrok

é™¤äº†éƒ¨ç½²æœåŠ¡å™¨å¤–è¿˜å¯ä»¥ä½¿ç”¨å†…ç½‘ç©¿é€çš„æ–¹å¼ä»¤å¤–ç½‘è®¿é—®æœ¬åœ°æœåŠ¡å™¨ï¼Œå®ç°è¿œç¨‹èŠå¤©ã€‚

###### æœåŠ¡å™¨

1. ä¸‹è½½ngrok https://ngrok.com/download ã€‚
2. windowç›´æ¥è§£å‹ã€‚
3. åœ¨ngrokå®˜ç½‘ä¸Šæ³¨å†Œè´¦å·ï¼Œè·å–tokenï¼Œåœ¨ç»ˆç«¯è°ƒç”¨å‘½ä»¤ `ngrok authtoken your_token`ï¼Œè¿™é‡Œçš„your_tokenæ˜¯ä½ åœ¨ngrokè·å–çš„tokenã€‚
4. åœ¨ws_serviceç›®å½•ä¸‹æ‰§è¡Œ`npm run start`å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨ã€‚
5. æ‰“å¼€ngrok.exeæ‰§è¡Œ`ngrok http 8000`ï¼ŒForwardingä¸­çš„urlå°±æ˜¯å¤–ç½‘å¯è®¿é—®çš„åœ°å€äº†ã€‚
<img src='./docs/ngrok.png' />

###### å®¢æˆ·ç«¯

å®¢æˆ·ç«¯æœ‰ç°æˆçš„urlé“¾æ¥ï¼Œç›´æ¥è®¿é—®å³å¯ã€‚
https://ws-eight.vercel.app/

å¦‚æœä¸¤è€…éƒ½ä½¿ç”¨ngrokï¼Œé‚£ä¹ˆå¯ä»¥é…ç½®å¤šéš§é“ä»£ç†
1. æ‰¾åˆ°ç”Ÿæˆçš„ngrok.yml `C:\Users\ç”¨æˆ·/.ngrok2/ngrok.yml`ã€‚
2. ä¿®æ”¹ngrok.ymlã€‚
3. åœ¨ç»ˆç«¯æ‰§è¡Œå‘½ä»¤ `ngrok start --all(å¯åŠ¨æ‰€æœ‰ç«¯å£)` æˆ– `ngrok start tunnel1 tunnel2 (å¯åŠ¨æŒ‡å®šç«¯å£)`ã€‚
<img src='./docs/ngrok-config.png'>

#### ğŸ“„ è¯´æ˜

1. è¯¥èŠå¤©å®¤ä½¿ç”¨websocketåè®®ï¼Œå¯¹äºhttpåè®®è¯·ä½¿ç”¨wsåè®®ï¼Œhttpsåè®®ä½¿ç”¨wssåè®®ã€‚
2. å¯¹äºèŠå¤©è®°å½•å­˜å‚¨ä½¿ç”¨çš„æ˜¯indexedDBã€‚

##### é¡¹ç›®ç”¨åˆ°è®¸å¤šBlobè½¬base64éœ€è¦ç¡®è®¤æ ¼å¼ï¼Œåœ¨æ­¤é™„ä¸ŠMIME

Mime-Types(mimeç±»å‹) |	Dateiendung(æ‰©å±•å) | Bedeutung
 ---- | ----- | ------ 
application/msexcel | *.xls *.xla |	Microsoft Excel Dateien
application/mshelp | *.hlp *.chm | Microsoft Windows Hilfe Dateien
application/mspowerpoint | *.ppt *.ppz *.pps *.pot | Microsoft Powerpoint Dateien
application/msword | *.doc *.dot | Microsoft Word Dateien
application/octet-stream | *.exe |	exe
application/pdf | *.pdf | Adobe PDF-Dateien
application/post****** | *.ai *.eps *.ps | Adobe Post******-Dateien
application/rtf | *.rtf | Microsoft RTF-Dateien
application/x-httpd-php | *.php *.phtml | PHP-Dateien
application/x-java****** | *.js | serverseitige Java******-Dateien
application/x-shockwave-flash | *.swf *.cab | Flash Shockwave-Dateien
application/zip | *.zip | ZIP-Archivdateien
audio/basic | *.au *.snd | Sound-Dateien
audio/mpeg | *.mp3 | MPEG-Dateien
audio/x-midi | *.mid *.midi	| MIDI-Dateien
audio/x-mpeg | *.mp2 | MPEG-Dateien
audio/x-wav | *.wav | Wav-Dateien
image/gif | *.gif | GIF-Dateien
image/jpeg | *.jpeg *.jpg *.jpe | JPEG-Dateien
image/x-windowdump | *.xwd | X-Windows Dump
text/css | *.css | CSS Stylesheet-Dateien
text/html | *.htm *.html *.shtml | -Dateien
text/java****** | *.js | Java******-Dateien
text/plain | *.txt | reine Textdateien
video/mpeg | *.mpeg *.mpg *.mpe | MPEG-Dateien
video/vnd.rn-realvideo | *.rmvb	| realplay-Dateien
video/quicktime | *.qt *.mov | Quicktime-Dateien
video/vnd.vivo | *viv *.vivo | Vivo-Dateien

#### ğŸ–– æ•ˆæœå±•ç¤º
<img src='./docs/home.png'>
<img src='./docs/setting.png'>
<img src='./docs/room.png'>
<img src='./docs/room-night.png'>
<img src='./docs/emoji.png'>
<img src='./docs/plugins.png'>
<img src='./docs/image.png'>
<img src='./docs/image-slide.png'>
<img src='./docs/record.png'>
<img src='./docs/member.png'>
<img src='./docs/message.png'>
